<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Please, don’t Bring Your Own Key! | Bárbara Vieira’s Personal Page</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Please, don’t Bring Your Own Key!" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bring your own key (BYOK) is a marketing feature available in most of the public cloud providers to enable the customers to use encryption keys generated by the customer." />
<meta property="og:description" content="Bring your own key (BYOK) is a marketing feature available in most of the public cloud providers to enable the customers to use encryption keys generated by the customer." />
<link rel="canonical" href="https://barbaraisabelvieira.github.io/blogposts/schremsii/privacy/cloud/edpb/2021/04/10/bring-your-own-key.html" />
<meta property="og:url" content="https://barbaraisabelvieira.github.io/blogposts/schremsii/privacy/cloud/edpb/2021/04/10/bring-your-own-key.html" />
<meta property="og:site_name" content="Bárbara Vieira’s Personal Page" />
<meta property="og:image" content="https://barbaraisabelvieira.github.io/blogposts/images/2021-04-bring-your-own-key/byok.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-10T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"Please, don’t Bring Your Own Key!","url":"https://barbaraisabelvieira.github.io/blogposts/schremsii/privacy/cloud/edpb/2021/04/10/bring-your-own-key.html","dateModified":"2021-04-10T00:00:00-05:00","datePublished":"2021-04-10T00:00:00-05:00","image":"https://barbaraisabelvieira.github.io/blogposts/images/2021-04-bring-your-own-key/byok.jpg","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://barbaraisabelvieira.github.io/blogposts/schremsii/privacy/cloud/edpb/2021/04/10/bring-your-own-key.html"},"description":"Bring your own key (BYOK) is a marketing feature available in most of the public cloud providers to enable the customers to use encryption keys generated by the customer.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blogposts/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://barbaraisabelvieira.github.io/blogposts/feed.xml" title="Bárbara Vieira's Personal Page" /><!-- the google_analytics_id gets auto inserted from the config file -->



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1M5N0S5V5B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1M5N0S5V5B');
</script>


<link rel="shortcut icon" type="image/x-icon" href="/blogposts/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blogposts/">Bárbara Vieira&#39;s Personal Page</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blogposts/about/">About Me</a><a class="page-link" href="/blogposts/search/">Search</a><a class="page-link" href="/blogposts/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Please, don&#39;t Bring Your Own Key!</h1><p class="page-description">Bring your own key (BYOK) is a marketing feature available in most of the public cloud providers to enable the customers to use encryption keys generated by the customer.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-04-10T00:00:00-05:00" itemprop="datePublished">
        Apr 10, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      7 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blogposts/categories/#schremsii">schremsii</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blogposts/categories/#privacy">privacy</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blogposts/categories/#cloud">cloud</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blogposts/categories/#edpb">edpb</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#the-concept-of-bring-your-own-keybyok">The concept of bring your own key (BYOK)</a></li>
<li class="toc-entry toc-h1"><a href="#key-control-what-is-it-and-why-it-is-important">Key control: what is it and why it is important?</a></li>
<li class="toc-entry toc-h1"><a href="#does-byok-solve-the-problem-of-key-control-when-using-a-cloud-service-provider">Does BYOK solve the problem of key control when using a Cloud Service Provider?</a></li>
<li class="toc-entry toc-h1"><a href="#byok-and-compliance-requirements">BYOK and Compliance Requirements</a></li>
<li class="toc-entry toc-h1"><a href="#what-about-saas-andbyok">What about SaaS and BYOK?</a></li>
<li class="toc-entry toc-h1"><a href="#when-does-byok-bringvalue">When does BYOK bring value?</a></li>
<li class="toc-entry toc-h1"><a href="#conclusions">Conclusions</a></li>
</ul><p><img src="/blogposts/images/2021-04-bring-your-own-key/alice-bob.jpg" alt="" height="350px" with="300px"></p>

<p>In this blog post I address Bring Your Own Key (BYOK) and the concept of (cryptographic) key control. I start by first giving a high-level overview of what BYOK feature entails and then why it is important for organisations to control the encryption keys that are used to protect the data. I then address the question of whether BYOK solves the key control problem when deploying applications in a Cloud Service Provider (CSP).</p>

<h1 id="the-concept-of-bring-your-own-keybyok">
<a class="anchor" href="#the-concept-of-bring-your-own-keybyok" aria-hidden="true"><span class="octicon octicon-link"></span></a>The concept of bring your own key (BYOK)</h1>
<p>Bring Your Own Key (BYOK) is a feature provided by the major Cloud Service Providers (CSP), where the customer generates the encryption key in its own managed Key Management System (KMS) under its full control. Then, through a set of procedures, the customer copies (or transfers) the key into the KMS managed by the CSP. From that moment on, customer applications deployed in such cloud service can use the key by directly connecting to the KMS managed by the CSP.
In this process the customer is able to fully control the key generation process. All the other key management lifecycle processes (e.g.: deployment, storage, backup, rotation, archive) are managed and controlled by the CSP.</p>

<p><img src="/blogposts/images/2021-04-bring-your-own-key/byok.jpg" alt="" height="350px" with="300px"></p>

<h1 id="key-control-what-is-it-and-why-it-is-important">
<a class="anchor" href="#key-control-what-is-it-and-why-it-is-important" aria-hidden="true"><span class="octicon octicon-link"></span></a>Key control: what is it and why it is important?</h1>
<p>Encryption is a way of preventing unauthorised access to the data. For encrypting the data, you need an encryption key.
An encryption key is just a secret value that enables you to obfuscate or deobfuscate the data into either unintelligible data and comprehensible information.</p>

<p>The urge to control the encryption keys comes from the fact that we need to control how the data encrypted under those keys is accessed. So, controlling how encryption keys are used means that we aim at controlling how the data is accessed.
Key control is then not just about possessing or generating the keys. Key control is about determine how keys are used (when, by whom and how).</p>

<p><strong>Having full control over the keys used to encrypt the data is then of utmost importance because in order to control how your data is being protected, you need to control how the keys are being used.</strong></p>

<h1 id="does-byok-solve-the-problem-of-key-control-when-using-a-cloud-service-provider">
<a class="anchor" href="#does-byok-solve-the-problem-of-key-control-when-using-a-cloud-service-provider" aria-hidden="true"><span class="octicon octicon-link"></span></a>Does BYOK solve the problem of key control when using a Cloud Service Provider?</h1>
<p>Let’s now focus in trying to understand of whether or not BYOK solves the key control problem when you migrate your applications to the cloud.</p>

<p><strong>The straightforward answer is:</strong> no. In fact, BYOK gives a fake sense of control.</p>

<p>Let’s see why: the key is provided by customer, but the customer has no control on how, by whom and when, the key is used. The customer only has control over the key generation process. After copying (or transferring) the key to the KMS managed by the CSP, the customer no longer controls the key.
Note: Let’s not forget that most Cloud KMS solutions are SaaS services and SaaS services are fully managed and controlled by the CSP.</p>

<p>Actually, if key control is the only reason you’re implementing BYOK, then the advice is: do not do it. Note that BYOK incurs additional costs (and effort) in the implementation of the end solution. In alternative to BYOK, the customer can generate the encryption key directly in the KMS managed by the CSP. This is actually preferable, because it avoids exposing the keys outside of the KMS (which is a secure environment), rendering the end solution more secure.</p>

<p>So when the key management procedures of the CSP are followed accordingly, generating the keys on a customer managed KMS or in a CSP managed one, should provide the same level of assurance. This is actually the recommendation of some major CSPs (check here AWS explanation).</p>

<p>This means that there is no advantage or added value in implementing BYOK, when you are able to generate the keys in the KMS managed by the CSP.</p>

<h1 id="byok-and-compliance-requirements">
<a class="anchor" href="#byok-and-compliance-requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>BYOK and Compliance Requirements</h1>
<p>I’ve heard and read in many places that BYOK is a good way of solving compliance requirements with regards to key control. However, I’d really like to challenge this belief (or misbelief).</p>

<p>When consulting some compliance documents I wasn’t able to find any document that can lead us to the conclusion that BYOK is required (or is a way) for key control. Let’s check some examples.</p>
<ol>
  <li>The EBA guidelines on ICT and security risk management have requirements for outsourcing arrangements (section 3.2.3). But none of the controls explicitly states that BYOK is the way to achieve compliance with regards to key control. With regards to information security requirements, EBA defines that data at rest and in transit should be encrypted, as well as all the network traffic (section 3.4.4). But EBA guidelines do not make any explicit reference on how encryption keys should be managed and by whom.</li>
  <li>This is also true in the case of the EDPB guidelines for data transfers. The EDPB recommendations state that the organisations must be in control of the encryption keys. But this doesn’t mean, however, that BYOK comes as the solution for key control. In fact, if you take a look into use case 6, you’ll notice that EDPB even considers that there are no technical solutions to protect personal data when the data is transferred to a CSP (check more detailed explanation here). This means that, in the context of data transfers under the GDPR, BYOK doesn’t solve key control problem.</li>
</ol>

<p>So if BYOK doesn’t solve the key control problem, which other problem does it solve? BYOK may solve the problem of key escrow (see below). But then again, I couldn’t find any compliance document that referred the need of a key escrow. Note that key escrow incurs additional risks in your implementation (see here), so you should carefully consider whether you need it or not.</p>

<h1 id="what-about-saas-andbyok">
<a class="anchor" href="#what-about-saas-andbyok" aria-hidden="true"><span class="octicon octicon-link"></span></a>What about SaaS and BYOK?</h1>
<p>It is also stated in many places that BYOK is a solution for solving compliance issues in SaaS solutions. As mentioned above, BYOK doesn’t seem to solve any compliance requirement. Nonetheless, the same reasoning applies here, whether we’re talking about a SaaS, a PaaS or a IaaS applications. As long as the KMS is managed by a 3rd party: CSP or the SaaS vendor, you have no control on how, when and by whom the key is used and accessed.
So again, if you’re implementing BYOK in your SaaS solution because you believe that BYOK solves the problem of key control, then the advice is: do not do it. BYOK doesn’t solve any key control problem in SaaS solutions.</p>

<h1 id="when-does-byok-bringvalue">
<a class="anchor" href="#when-does-byok-bringvalue" aria-hidden="true"><span class="octicon octicon-link"></span></a>When does BYOK bring value?</h1>
<p>If BYOK doesn’t solve the key control problem, when should you use it?</p>
<ol>
  <li>When you need to create key escrow: for a posteriori recovery of the key, or in case the CSP is not able to guarantee key recovery, or even when your legislator demands to have a copy of the key;</li>
  <li>When you need to migrate an application to the CSP and use the exactly same key (otherwise the application cannot function properly); E.g.: the migrated application needs to communicate with another application deployed in a different platform and the key is needed for the communication;</li>
</ol>

<p>Typically, BYOK is an excellent solution when the you need to migrate your applications to a particular CSP or the application needs to be deployed across multiple CSPs.</p>

<hr>

<h1 id="conclusions">
<a class="anchor" href="#conclusions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conclusions</h1>
<p>In a nutshell, the main highlights of this post are then the following:</p>
<ol>
  <li>BYOK is a feature provided by the CSP that allows importing customer generated keys into the CSP managed environment;</li>
  <li>Key control implies controlling how encryption keys are used; this is important because keys are used to control how (and by whom) the data is accessed;</li>
  <li>BYOK doesn’t solve the problem of key control when migrating applications to a CSP, as the CSP has full control over the environment;</li>
  <li>BYOK is not a way to solve the problem of key control with regards to compliance requirements, neither the problem of key control in SaaS solutions;</li>
  <li>BYOK is an excellent feature when applications are deployed across multiple CSPs and require the usage of the same key.</li>
</ol>

<p>The conclusion is then: BYOK is an excellent (and must needed) feature that all CSPs should support, but should only be implemented when it actual adds value to the implementation and not try to solve problems related with key control.</p>

<hr>

<p><strong>Remarks</strong></p>

<p>It goes without saying, but please note that this is my personal view on the topic and is fully based on my own experiences as a cryptographic consultant.</p>

  </div><a class="u-url" href="/blogposts/schremsii/privacy/cloud/edpb/2021/04/10/bring-your-own-key.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blogposts/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blogposts/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blogposts/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Writing about Applied Cryptography, Application Security and Privacy Engineering.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/barbaraisabelvieira" title="barbaraisabelvieira"><svg class="svg-icon grey"><use xlink:href="/blogposts/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/barbaraisv" title="barbaraisv"><svg class="svg-icon grey"><use xlink:href="/blogposts/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
